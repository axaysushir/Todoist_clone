(this["webpackJsonptodlist-clone"]=this["webpackJsonptodlist-clone"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/icon.a6cbd140.svg"},16:function(e,t,a){e.exports=a(34)},21:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),o=a.n(r),l=(a(21),a(1)),d=a(2),s=a(3),i=a.n(s),u=a(14),m=a.n(u);a(25);a(29).config();var b=m.a.initializeApp({apiKey:"AIzaSyAb7AUibbsA_I4ADfHKojLTDlDQghtbHV8",authDomain:"quirlo.firebaseapp.com",databaseURL:"https://quirlo.firebaseio.com",projectId:"quirlo",storageBucket:"quirlo.appspot.com",messagingSenderId:"738283234689",appId:"1:738283234689:web:7362420fb08738856e7480"}),p=a(6),f=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 days"}],j=function(e){return f.find((function(t){return t.key===e}))},k=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var a=(new Date).getTime(),n=new Array(8),c=7;c>=0;c--)n[c]=e.charAt(a%64),a=Math.floor(a/64);var r=n.join("");for(c=0;c<12;c++)r+=e.charAt(t[c]);return r}}(),E=Object(n.createContext)(),v=function(e){var t=e.children,a=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){b.firestore().collection("projects").where("userId","==","GhIyddUBs6IpAvzrKuDh").orderBy("projectId").get().then((function(e){var t=e.docs.map((function(e){return Object(p.a)({},e.data(),{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(a)&&c(t)}))}),[a]),{projects:a,setProjects:c}}(),r=a.projects,o=a.setProjects;return c.a.createElement(E.Provider,{value:{projects:r,setProjects:o}},t)},h=function(){return Object(n.useContext)(E)},y=Object(n.createContext)(),_=function(e){var t=e.children,a=Object(n.useState)("INBOX"),r=Object(l.a)(a,2),o=r[0],d=r[1];return c.a.createElement(y.Provider,{value:{selectedProject:o,setSelectedProject:d}},t)},D=function(){return Object(n.useContext)(y)},N=function(e){var t=e.setProject,a=e.setShowProjectOverlay,n=e.showProjectOverlay,r=h().projects;return r&&n&&c.a.createElement("div",{className:"project-overlay","data-testid":"project-overlay"},c.a.createElement("ul",{className:"project-overlay__list"},r.map((function(e){return c.a.createElement("li",{key:e.projectId},c.a.createElement("div",{"data-testid":"project-overlay-action",onClick:function(){t(e.projectId),a(!1)},onKeyDown:function(){t(e.projectId),a(!1)},role:"button",tabIndex:0,"aria-label":"Select the task project"},e.name))}))))},O=a(4),w=a.n(O),I=function(e){var t=e.setTaskDate,a=e.setShowTaskDate;return e.showTaskDate&&c.a.createElement("div",{className:"task-date","data-testid":"task-date-overlay"},c.a.createElement("ul",{className:"task-date__list"},c.a.createElement("li",null,c.a.createElement("div",{onClick:function(){a(!1),t(i()().format("DD//MM/YYYY"))},onKeyDown:function(){a(!1),t(i()().format("DD//MM/YYYY"))},"data-testid":"task-date-overlay",tabIndex:0,"aria-label":"Select today as the task date",role:"button"},c.a.createElement("span",null,c.a.createElement(d.j,null)),c.a.createElement("span",null,"Today"))),c.a.createElement("li",null,c.a.createElement("div",{onClick:function(){a(!1),t(i()().add(1,"day").format("DD//MM/YYYY"))},onKeyDown:function(){a(!1),t(i()().add(1,"day").format("DD//MM/YYYY"))},"data-testid":"task-date-tomorrow",tabIndex:0,role:"button"},c.a.createElement("span",null,c.a.createElement(d.h,null)),c.a.createElement("span",null,"Tomorrow"))),c.a.createElement("li",null,c.a.createElement("div",{onClick:function(){a(!1),t(i()().add(7,"days").format("DD//MM/YYYY"))},onKeyDown:function(){a(!1),t(i()().add(7,"days").format("DD//MM/YYYY"))},"data-testid":"task-date-next-week",tabIndex:0,role:"button"},c.a.createElement("span",null,c.a.createElement(d.g,null)),c.a.createElement("span",null," Next Week")))))};I.prototype={setTaskDate:w.a.func.isRequired,showTaskDate:w.a.func.isRequired,setShowTaskDate:w.a.func.isRequired};var x=function(e){var t=e.showAddTaskMain,a=void 0===t||t,r=e.showShouldMain,o=void 0!==r&&r,s=e.showQuickAddTask,u=e.setShowQuickAddTask,m=Object(n.useState)(""),p=Object(l.a)(m,2),f=p[0],j=p[1],k=Object(n.useState)(""),E=Object(l.a)(k,2),v=E[0],h=E[1],y=Object(n.useState)(""),_=Object(l.a)(y,2),O=_[0],w=_[1],x=Object(n.useState)(o),Y=Object(l.a)(x,2),S=Y[0],T=Y[1],C=Object(n.useState)(!1),M=Object(l.a)(C,2),A=M[0],g=M[1],K=Object(n.useState)(!1),P=Object(l.a)(K,2),B=P[0],X=P[1],q=D().selectedProject,Q=function(){var e=O||q,t="";return"TODAY"===e?t=i()().format("DD/MM/YYYY"):"NEXT_7"===e&&(t=i()().add(7,"days").format("DD/MM/YYYY")),f&&e&&b.firestore().collection("tasks").add({archived:!1,projectId:e,task:f,date:t||v,userId:"GhIyddUBs6IpAvzrKuDh"}).then((function(){j(""),w(""),T(""),g(!1)}))};return c.a.createElement("div",{className:s?"add-task add-task__overlay":"add-task","data-testid":"add-task-comp"},a&&c.a.createElement("div",{className:"add-task__shallow","data-testid":"show-main-action",onClick:function(){return T(!S)},onKeyDown:function(){return T(!S)},role:"button",tabIndex:0},c.a.createElement("span",{className:"add-task__plus"},"+"),c.a.createElement("span",{className:"add-task__text"},"Add task")),(S||s)&&c.a.createElement("div",{className:"add-task__main","data-testid":"add-task-main"},s&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"","data-testid":"quick-add-task"},c.a.createElement("h2",{className:"header"},"Quick add task"),c.a.createElement("span",{className:"add-task__cancel-x","data-testid":"add-task-quick-cancel",onClick:function(){T(!1),g(!1),u(!1)},onKeyDown:function(){T(!1),g(!1),u(!1)},role:"button",tabIndex:0},"X"))),c.a.createElement(N,{setProject:w,setShowProjectOverlay:g,showProjectOverlay:A}),c.a.createElement(I,{setTaskDate:h,showTaskDate:B,setShowTaskDate:X}),c.a.createElement("input",{type:"text",className:"add-task__content","data-testid":"add-task-content",value:f,onChange:function(e){return j(e.target.value)}}),c.a.createElement("button",{type:"button",className:"add-task__submit","data-testid":"add-task",onClick:function(){return s?Q()&&u(!1):Q()}},"Add Task"),!s&&c.a.createElement("span",{className:"add-task__cancel","data-testid":"add-task-main-cancel",onClick:function(){T(!1),g(!1)},onKeyDown:function(){T(!1),g(!1)},tabIndex:0,role:"button"},"Cancel"),c.a.createElement("span",{className:"add-task__project","data-testid":"show-project-overlay",onClick:function(){return g(!A)},onKeyDown:function(){return g(!A)},tabIndex:0,role:"button"},c.a.createElement(d.f,null)),c.a.createElement("span",{className:"add-task__date","data-testid":"show-date-overlay",onClick:function(){return X(!B)},onKeyDown:function(){return X(!B)},tabIndex:0,role:"button"},c.a.createElement(d.e,null))))},Y=a(15),S=a.n(Y),T=function(e){var t=e.darkMode,a=e.setDarkMode,r=Object(n.useState)(!1),o=Object(l.a)(r,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),b=m[0],p=m[1];return c.a.createElement("header",{className:"header","data-testid":"header"},c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:S.a,alt:"Todolist",style:{width:"40px",backgroundColor:"white",borderRadius:"50%"}})),c.a.createElement("div",{className:"settings"},c.a.createElement("ul",null,c.a.createElement("li",{"aria-label":"Quick Add Task","data-testid":"quick-add-task-action",className:"settings__add",onClick:function(){p(!0),i(!0)},onKeyDown:function(){p(!0),i(!0)}},"+"),c.a.createElement("li",{onClick:function(){return a(!t)},"data-testid":"dark-mode-action","aria-label":"Dark mode",className:"settings__darkmode"},c.a.createElement(d.b,null))),c.a.createElement("h2",{className:"app-heading"},"Todoist"))),c.a.createElement(x,{showAddTaskMain:!1,shouldShowMain:s,showQuickAddTask:b,setShowQuickAddTask:p}))},C=a(5),M=function(e){var t=e.project,a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],s=r[1],i=h(),u=i.projects,m=i.setProjects,p=D().setSelectedProject;return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"sidebar__dot"},"\u2022"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){return s(!o)},onKeyDown:function(){return s(!o)},tabIndex:0,role:"button","aria-label":"Confirm deletion of project"},c.a.createElement(d.i,null),o&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return e=t.docId,void b.firestore().collection("projects").doc(e).delete().then((function(){m(Object(C.a)(u)),p("INBOX")}));var e}},"Delete"),c.a.createElement("span",{onClick:function(){return s(!o)},onKeyDown:function(){return s(!o)},tabIndex:0,role:"button","aria-label":"Cancel adding project, do not delete"},"Cancel")))))},A=function(e){var t=e.activeValue,a=void 0===t||t,r=Object(n.useState)(a),o=Object(l.a)(r,2),d=o[0],s=o[1],i=D().setSelectedProject,u=h().projects;return u&&u.map((function(e){return c.a.createElement("li",{key:e.projectId,"data-doc-id":e.docId,"data-testid":"project-action",className:d===e.projectId?"active sidebar__project":"sidebar__project"},c.a.createElement("div",{role:"button","data-testid":"project-action",tabIndex:0,"aria-label":"Select ".concat(e.name," as the task project"),onKeyDown:function(){s(e.projectId),i(e.projectId)},onClick:function(){s(e.projectId),i(e.projectId)}},c.a.createElement(M,{project:e})))}))};M.propTyeps={activeValue:w.a.bool};var g=function(e){var t=e.shouldshow,a=void 0!==t&&t,r=Object(n.useState)(a),o=Object(l.a)(r,2),d=o[0],s=o[1],i=Object(n.useState)(),u=Object(l.a)(i,2),m=u[0],p=u[1],f=k(),j=h(),E=j.projects,v=j.setProjects;return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},d&&c.a.createElement("div",{className:"add-project__input"},c.a.createElement("input",{value:m,onChange:function(e){return p(e.target.value)},className:"add-project__name","data-testid":"project-name",type:"text",placeholder:"Name your project"}),c.a.createElement("button",{className:"add-project__submit",type:"button",onClick:function(){return m&&b.firestore().collection("projects").add({projectId:f,name:m,userId:"GhIyddUBs6IpAvzrKuDh"}).then((function(){v(Object(C.a)(E)),p(""),s(!1)}))},"data-testid":"add-project-submit"},"Add Project"),c.a.createElement("span",{"data-testid":"hide-project-overlay",className:"add-project__cancel","aria-label":"Cancel adding project",onClick:function(){return s(!1)},onKeyDown:function(){return s(!1)},role:"button",tabIndex:0},"Cancel")),c.a.createElement("span",{className:"add-project__plus"},"+"),c.a.createElement("span",{"data-testid":"add-project-action",className:"add-project__text",onClick:function(){return s(!d)},onKeyDown:function(){return s(!d)},role:"button",tabIndex:0},"Add Project"))};g.prototype={shouldShow:w.a.bool};var K=function(){var e=D().setSelectedProject,t=Object(n.useState)("inbox"),a=Object(l.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!0),i=Object(l.a)(s,2),u=i[0],m=i[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"inbox"===r?"active":void 0},c.a.createElement("div",{"data-testid":"inbox-action","aria-label":"Show inbox tasks",tabIndex:0,role:"button",onClick:function(){o("inbox"),e("INBOX")},onKeyDown:function(){o("inbox"),e("INBOX")}},c.a.createElement("span",{tabIndex:0},c.a.createElement(d.c,null)),c.a.createElement("span",null,"Inbox"))),c.a.createElement("li",{"data-testid":"today",className:"today"===r?"active":void 0},c.a.createElement("div",{"data-testid":"today-action","aria-label":"Show today's tasks",tabIndex:0,role:"button",onClick:function(){o("today"),e("TODAY")},onKeyDown:function(){o("today"),e("TODAY")}},c.a.createElement("span",null,c.a.createElement(d.d,null)),c.a.createElement("span",null,"Today"))),c.a.createElement("li",{"data-testid":"next_7",className:"next_7"===r?"active":void 0},c.a.createElement("div",{"data-testid":"next_7-action","aria-label":"Show tasks for the next 7 days",tabIndex:0,role:"button",onClick:function(){o("next_7"),e("NEXT_7")},onKeyDown:function(){o("next_7"),e("NEXT_7")}},c.a.createElement("span",null,c.a.createElement(d.e,null)),c.a.createElement("span",null,"Next 7 days")))),c.a.createElement("div",{className:"sidebar__middle",onClick:function(){return m(!u)},onKeyDown:function(){return m(!u)},role:"button",tabIndex:0},c.a.createElement("span",null,c.a.createElement(d.a,{className:u?void 0:"hidden-projects"})),c.a.createElement("h2",null,"Project")),c.a.createElement("ul",{className:"sidebar__projects"},u&&c.a.createElement(A,null)),m&&c.a.createElement(g,null))},P=function(e){var t=e.id,a=e.taskDesc,n=function(){b.firestore().collection("tasks").doc(t).update({archived:!0})};return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){return n()},onKeyDown:function(){return n()},"aria-label":"Mark ".concat(a," as done?"),role:"button",tabIndex:0},c.a.createElement("span",{className:"checkbox"}))},B=function(){var e=D().selectedProject,t=h().projects,a=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)([]),d=Object(l.a)(o,2),s=d[0],u=d[1];return Object(n.useEffect)((function(){var t=b.firestore().collection("tasks").where("userId","==","GhIyddUBs6IpAvzrKuDh");return t=(t=e&&!j(e)?t=t.where("projectId","==",e):"TODAY"===e?t=t.where("date","==",i()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t=t.where("date","==",""):t).onSnapshot((function(t){var a=t.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));r("NEXT_7"===e?a.filter((function(e){return i()(e.date,"DD-MM-YYYY").diff(i()(),"days")<=7&&!0!==e.archived})):a.filter((function(e){return!0!==e.archived}))),u(a.filter((function(e){return!1!==e.archived})))})),function(){return t}}),[e]),{tasks:c,archivedTasks:s}}(e).tasks,r="";return t&&t.length>0&&e&&!j(e)&&(r=function(e,t){return e.find((function(e){return e.projectId===t}))}(t,e).name),j(e)&&e&&(r=function(e,t){return e.find((function(e){return e.key===t}))}(f,e).name),Object(n.useEffect)((function(){document.title="".concat(r,": Todoist")})),c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-testid":"project-name"},r),c.a.createElement("ul",{className:"tasks__list"},a.map((function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement(P,{id:e.id}),c.a.createElement("span",null,e.task))}))),c.a.createElement(x,null))},X=function(){return c.a.createElement("section",{className:"content"},c.a.createElement(K,null),c.a.createElement(B,null))},q=function(e){var t=e.darkModeDefault,a=void 0!==t&&t,r=Object(n.useState)(a),o=Object(l.a)(r,2),d=o[0],s=o[1];return c.a.createElement(_,null,c.a.createElement(v,null,c.a.createElement("main",{"data-testid":"application",className:d?"darkmode":void 0},c.a.createElement(T,{darkMode:d,setDarkMode:s}),c.a.createElement(X,null))))};o.a.render(c.a.createElement(q,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f43ae0c9.chunk.js.map